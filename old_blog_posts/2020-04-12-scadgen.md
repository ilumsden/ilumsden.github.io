---
layout: post
title: ORNL Internship&#58; SCADGen
categories: [Research, Reflections]
---

At the beginning of the Spring semster of 2018, I transitioned from the [Python-2-to-3 conversion project]({% post_url 2020-04-11-py2to3 %}) that I had been working on in the fall to the project that my mentors had been preparing since my internship was extended. This project was associated with a larger Lab-Directed Research and Development (LDRD) project that was a collaboration between ORNL's Neutron Sciences Directorate (which the Neutron Data Analysis Group that I was working with is in) and ORNL's Manufacturing Demonstration Facility, or MDF for short. Like many projects coming out of the MDF, the main goal of this project involved 3D printing. More specifically, the goal of the project was to 3D print parts that could be used inside the neutron scattering instruments at the Spallation Neutron Source. However, to achieve this, the MDF and Neutron Sciences Directorate needed a way to create STL files of the parts. In 3D printing, STL files are used to represent the geometry and printing instructions for whatever object is trying to be printed. This is where my mentors got involved. For years, the Neutron Data Analysis Group at SNS has been managing a piece of software called MCViNE. It is a extremely powerful neutron scattering simulation program, and it is used extensively at SNS. However, one of the most important aspects of a neutron scattering experiment is the actual instrument with which the experiment is performed. In a simulator like MCViNE, the geometry and details of such an instrument must also be simulated. To do this, MCViNE uses its own specialized file format based on the more standard XML format. Because MCViNE is so heavily used at SNS, my mentors suggested that, instead of producing the STL files that the MDF needed from scratch, a tool should be built to convert MCViNE XML files into STL files. Additionally, they believed that, by making this software, it would be possible to add a new and long-requested feature to MCViNE: instrument visualization.

This was my project, which would later be named [SCADGen](https://github.com/mcvine/SCADGen). The goal of the project was to develop a piece of software that could convert MCViNE XML files describing parts of an instrument (or even entire instruments) into SCAD code. This SCAD code could then be visualized and converted into STL files with a tool like [OpenSCAD](https://www.openscad.org/). Although the much of the work was nothing new to me due to me writing this tool in Python, there were several skills that I learned during this project. The most important skill that I learned was how to perform unit testing and continuous integration in Python. Unit testing is a way in which programmers verify that their code works as intended. It involves writing a test for every main block of code in a program to ensure that each individual small part of the program works as intended. For this project, I did this using Python's main unit testing library: PyTest. I then linked my unit testing with TravisCI, a continuous integration (CI) system. CI systems are used to automatically perform various tasks whenever new code is added to an online code-hosting service, such as GitHub. In this project, I used TravisCI (a specific CI service) and its Coveralls plugin to keep track of how much of my code was successfully passing the unit tests I created. As I would later realize, these tools and skills are invaluable in the field of software engineering (a subfield of Computer Science) because they help to build trust in your code. If you have a comprehensive suite of unit tests and a well designed set of CI tasks, it means that your code is much more likely to work as intended than a similar piece of code without those systems in place.

This project was much more challenging than the other two in my internship at the time, in large part due to the fact that I was working from UT. Prior to this project, I did not really need to worry that much about having serious and detailed discussions about my projects online. However, since this project involved working within the constraints set by my mentors' pre-existing software (MCViNE), I needed to communicate with them much more frequently and in-depth than before to understand what features I needed to include in my software and how to best design my software. Although it took some getting used to, learning to communicate effectively and efficiently online has helped me a ton since this project, especially today with my work in the Global Computing Lab and with in-person meetings being eliminated due to COVID-19. This project was also quite important to my later work through my ORNL internship because my next (and last) project would be directly tied to MCViNE.

<!--![SCADGen-produced model of a sample holder for an SNS instrument](/static/assets/img/blog/posts/scadgen_sample_holder.png){:style="max-width: 100%; max-height: 100vh; margin: auto;"}-->
<p>
<img src="/static/assets/img/blog/posts/scadgen_sample_holder.png" style="max-width: 100%; max-height: 100vh; margin: auto;" alt="">
<div style="width: 100%; text-align: center;">
<i>SCADGen-produced model of a sample holder for an SNS instrument</i>
</div>
</p>

To my surprise, this project has actually been my most influential project when it comes to papers. These range from papers published in conference proceedings (will be in the proceedings of [ICANS XXIII](https://conference.sns.gov/event/138/overview) when released) to [a journal paper](https://www.osti.gov/pages/biblio/1556800), with a couple still in the works. For the most part, my contributions are used as a tool in the work presented in the paper, but it is still quite surprising that, out of all the work I have done so far, this would be the project that would have the largest impact to date.
